<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#175e26" />

    <title>Rummy!</title>
    <link
      rel="stylesheet"
      href="http://www.kjetilaardal.no/Global/global.css"
    />
    <style>
      :root {
        --bakgrunnsfarge: #175e26;
        --tekstfarge: #000;
        --fontstorleik: xxx-large;
        --radFarge2: #fff;
        --radFarge1: #ddd;
        --spelarFarge1: #2bea09;
        --spelarFarge2: #11b7f8;
        --marg: 10px;
        
      }
      body {
        background-color: var(--bakgrunnsfarge);
        font-family: "Comic Sans MS", sans-serif;
        font-weight: bold;
      }
      #appskjerm {
        border-radius: 5px;
        background-color: var(--bakgrunnsfarge);
      }
      .spelar1 {
        background-color: var(--spelarFarge1);
      }
      .spelar2 {
        background-color: var(--spelarFarge2);
      }

      .rad {
        height: 6dvh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }
      .rad:nth-child(odd) {
        background-color: var(--radFarge1);
      }
      .rad:nth-child(even) {
        background-color: var(--radFarge2);
      }
      .bakSjekk {
        flex: 1;
        height: 100%;
        width: 10%;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .sjekk {
        flex: 1;
        height: 90%;
        width: 15%;
      }
      input[type="checkbox"].spelar1 {
        accent-color: var(--spelarFarge1);
      }
      input[type="checkbox"].spelar2 {
        accent-color: var(--spelarFarge2);
      }
      .tekstRegler {
        font-size: 3dvh;
        margin-left: 5px;
        width: 70%;
        text-align: left;
        color: var(--tekstfarge);
      }

      button {
        flex: 1; /* Fordeler plass jevnt */
        height: 100%;
        justify-content: center;
        align-items: center;
        font-size: clamp(0.8rem, 2.5dvh, 1.4rem);
        background-color: #dddddd;
      }
      .spelarrute {
        flex: 1; /* Fordeler plass jevnt */
        height: 100%;
        justify-content: center;
        text-align: center;
        color: var(--tekstfarge);
        font-weight: bold;
        font-size: 4dvh;
      }
      .hjelpar { 
        color: #fff;
        background-color: #000;
        border: #000 2px solid;
        border-radius: 50%;
        padding: 2px;
      }
      .like, .rekka{
        border-radius: 5px;
        padding:2px;
      }
      .like{
        background-color: #ff00001e;
      }
      .rekka{
        background-color: #0000ff1e;
      }
      #nr1, #nr2{
        height: 100%;
        color: var(--tekstfarge);
        font-size: 4dvh;
        padding:5px;
      }

    </style>
  </head>
  <body>
    <div id="appskjerm" class="appskjerm-mobil">
      <div class="rad">
        <div class=" spelar1" id="nr1"></div>
        <div class="spelarrute spelar1" onclick="skrivPoeng(1)" id="poeng1"> 0 </div>
        <div class="spelarrute spelar2" onclick="skrivPoeng(2)" id="poeng2"> 0 </div>
        <div class=" spelar2" id="nr2">👑</div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk1spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 1</span> <span class="rekka">1234</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk1spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk2spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 1</span> <span class="like">55555</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk2spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk3spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 2</span> <span class="like">333</span> + <span class="like">333</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk3spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk4spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 2</span> <span class="rekka">1234</span> + <span class="like">333</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk4spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk5spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 3</span> <span class="like">333</span> + <span class="like">333</span> + <span class="like">333</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk5spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk6spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 3</span> <span class="rekka">12345</span> + <span class="like">333</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk6spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk7spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 3</span> <span class="rekka">1234567</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk7spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk8spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 3</span> <span class="rekka">123456</span> + <span class="like">333</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk8spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk9spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 2</span> <span class="rekka">1234</span> + <span class="rekka">1234</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk9spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk10spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 4</span> <span class="like">55555</span> + <span class="like">55555</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk10spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <div class="bakSjekk spelar1"><input type="checkbox" id="sjekk11spelar1" class="sjekk spelar1" /></div>
        <p class="tekstRegler"><span class="hjelpar"> 4</span> <span class="rekka">123456789</span></p>
        <div class="bakSjekk spelar2"><input type="checkbox" id="sjekk11spelar2" class="sjekk spelar2" /></div>
      </div>
      <div class="rad">
        <button id="lasSkjermPa" onclick="lasSkjermPa()">🌟</button>
        <button id="nullstill" onclick="nullstill()">↺</button>
        <button id="nesteRunde" onclick="nesteRunde()">Neste Runde</button>
      </div>
    </div>
  </body>
  <script>
    let poeng = [null, 0, 0];
    let aktivspelar = Math.floor(Math.random() * 2) + 1;

    document.body.onload = nesteRunde();  
    //Nullstill knapp
    function nullstill() {
      if (confirm("Er du sikker på at du vil nullstille?")) {
        const ruter = document.querySelectorAll(".sjekk");
        ruter.forEach((rute) => {
          rute.checked = false;
        });
        poeng = [null, 0, 0, 0, 0, 0];
        for (let i = 1; i <= antalSpelarar; i++) {
          document.getElementById("poeng" + i).innerText = poeng[i];
        }
      }
    }
    //Skriv poeng
    function skrivPoeng(aktivSpelar) {
      let svar = prompt("Skriv inn poeng");
      
      svar = parseInt(svar);
      if (isNaN(svar)) return;
      poeng[aktivSpelar] = poeng[aktivSpelar] + svar;
      document.getElementById("poeng" + aktivSpelar).innerText =
        poeng[aktivSpelar];
    }

    //Skjerm på knapp
    let skjermLastPa = null;

    async function lasSkjermPa() {
      if (skjermLastPa === null) {
        try {
          skjermLastPa = await navigator.wakeLock.request("screen");
          document.getElementById("lasSkjermPa").innerText = "🌓";
        } catch (err) {
          alert("Feil: " + err.message);
          event.target.checked = false;
        }
      } else {
        if (skjermLastPa) {
          await skjermLastPa.release();
          skjermLastPa = null;
          document.getElementById("lasSkjermPa").innerText = "🌟";
        }
      }
    }

    function nesteRunde() {
      aktivspelar = aktivspelar === 1 ? 2 : 1;
      document.getElementById('nr1').innerText = aktivspelar === 1 ? '😁' : '😕';
      document.getElementById('nr2').innerText = aktivspelar === 2 ? '😁' : '😕';
    }
  </script>
</html>
